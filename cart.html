<!DOCTYPE html>
<html lang="en">

<head>
  <title>Registration</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<style>
.carttable {
  border: 2px solid #000000;
}
.carttable td,.carttable th{
  border: 2px solid #000000;
  margin: 10px;
  padding: 10px;
}
</style>
<body>

  <div class="container">
    <h2>My Cart</h2>
    <table class="carttable">
      <thead>
        <th>Product Info</th>
        <th>Qty</th>
        <th>Price</th>
        <th>Sub Total</th>
        <th>Action</th>
      </thead>
      <tbody>
        <tr id="item1qtytr">
          <td>
            <img src="image1.webp" height="100" width="80"/>
            <h2>Item 1</h2>
          </td>
          <td>
            <input type="text" name="item1" value="1" id="item1qty"/>
          </td>
          <td>
            <p>$<span id="item1price">100</span></p>
          </td>
          <td>
            <p>$<span id="item1gt">100</span></p>
          </td>
          <td>
            <button class="btn btn-primary" id="updateitem1" onclick="updateitem('update','item1qty','item1price','item1gt')">Update</button>
            <button class="btn btn-danger" id="removeitem1" onclick="updateitem('remove','item1qty')">Remove</button>
          </td>
        </tr>
        <tr id="item2qtytr">
          <td>
            <img src="image2.webp" height="100" width="80"/>
            <h2>Item 2</h2>
          </td>
          <td>
            <input type="text" name="item2" value="1" id="item2qty"/>
          </td>
          <td>
            <p>$<span id="item2price">50</span></p>
          </td>
          <td>
            <p>$<span id="item2gt">50</span></p>
          </td>
          <td>
            <button class="btn btn-primary" id="updateitem2" onclick="updateitem('update','item2qty','item2price','item2gt')">Update</button>
            <button class="btn btn-danger" id="removeitem2" onclick="updateitem('remove','item2qty')">Remove</button>
          </td>
        </tr>
        <tr>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
          <td>
            <p>$<span id="itemst">150</span></p>
          </td>
          <td>&nbsp;</td>
        </tr>
      </tbody>
    </table>
  </div>
</body>
<script>
function updateitem(action,id,price=null,subtotal=null){
  if(action=='update'){
    var qty = document.getElementById(id).value;
    var price = document.getElementById(price).innerHTML;
    var rowtotal = qty*price;
    document.getElementById(subtotal).innerHTML = parseInt(rowtotal);
    var item1gt = item2gt = 0;
    if(document.querySelector('#item1gt')){
      item1gt = document.getElementById('item1gt').innerHTML;
    }
    if(document.querySelector('#item2gt')){
      item2gt = document.getElementById('item2gt').innerHTML;
    }
    document.getElementById("itemst").innerHTML = parseInt(item1gt)+parseInt(item2gt);
  } else {
    document.getElementById(id+'tr').remove();
    var item1gt = item2gt = 0;
    if(document.querySelector('#item1gt')){
      item1gt = document.getElementById('item1gt').innerHTML;
    }
    if(document.querySelector('#item2gt')){
      item2gt = document.getElementById('item2gt').innerHTML;
    }
    document.getElementById("itemst").innerHTML = parseInt(item1gt)+parseInt(item2gt);
  }
}
</script>
</html>